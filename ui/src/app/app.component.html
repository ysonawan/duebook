<div class="flex flex-col min-h-screen">
  <!-- Professional Navigation Bar - Desktop -->
  <nav class="bg-white shadow-md sticky top-0 z-50 hidden md:block" *ngIf="authService.isAuthenticated()">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-12">
        <!-- Logo -->
        <div class="flex items-center">
          <div class="flex-shrink-0 flex items-center gap-2">
              <img src="assets/duebook.png" alt="Duebook Logo" class="w-12 h-12 object-contain">
              <span class="text-2xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-800 bg-clip-text text-transparent">Duebook</span>
          </div>
        </div>

        <!-- Navigation Links - Desktop -->
        <div class="flex items-center space-x-1">
          <a routerLink="/dashboard"
             routerLinkActive="bg-indigo-50 text-indigo-700"
             [routerLinkActiveOptions]="{exact: false}"
             class="px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition-colors duration-200 flex items-center gap-2">
            <i class="fas fa-home"></i>
            Dashboard
          </a>
          <a routerLink="/customers"
             routerLinkActive="bg-indigo-50 text-indigo-700"
             [routerLinkActiveOptions]="{exact: false}"
             class="px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition-colors duration-200 flex items-center gap-2">
            <i class="fas fa-users"></i>
            Customers
          </a>
          <a routerLink="/ledger"
             routerLinkActive="bg-indigo-50 text-indigo-700"
             [routerLinkActiveOptions]="{exact: false}"
             class="px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition-colors duration-200 flex items-center gap-2">
            <i class="fas fa-coins"></i>
              Ledger
          </a>
          <a routerLink="/shops"
             routerLinkActive="bg-indigo-50 text-indigo-700"
             [routerLinkActiveOptions]="{exact: false}"
             class="px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition-colors duration-200 flex items-center gap-2">
            <i class="fas fa-store"></i>
            Shops
          </a>
            <a routerLink="/audit-logs"
                routerLinkActive="bg-indigo-50 text-indigo-700"
                [routerLinkActiveOptions]="{exact: false}"
                class="px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition-colors duration-200 flex items-center gap-2">
                <i class="fas fa-history"></i>
                Audit Logs
            </a>
        </div>

        <!-- User Menu - Desktop -->
        <div class="flex items-center gap-3 relative">
          <div class="relative">
            <button
              (click)="toggleUserMenu()"
              class="flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
              <div class="w-8 h-8 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center">
                <span class="text-white text-sm font-semibold">{{ currentUser?.name?.charAt(0)?.toUpperCase() || 'U' }}</span>
              </div>
              <span class="text-sm font-medium text-gray-700">{{ currentUser?.name || 'User' }}</span>
              <i class="fas fa-chevron-down text-gray-500"></i>
            </button>

            <!-- Dropdown Menu -->

            <div *ngIf="userMenuOpen" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50">
                <a routerLink="/profile"
                 (click)="closeUserMenu()"
                 class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors flex items-center gap-2">
                <i class="fas fa-user"></i>
                My Profile
              </a>

              <div class="border-t border-gray-200 my-1"></div>
              <button
                (click)="logout()"
                class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2">
                <i class="fas fa-sign-out-alt"></i>
                Logout
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Mobile Top Bar -->
  <nav class="bg-white shadow-md sticky top-0 z-40 md:hidden" *ngIf="authService.isAuthenticated()">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-14">
        <!-- Logo -->
        <div class="flex items-center">
          <div class="flex-shrink-0 flex items-center gap-2">
            <img src="assets/duebook.png" alt="Duebook Logo" class="w-14 h-14 object-contain">
            <span class="text-2xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-800 bg-clip-text text-transparent">Duebook</span>
          </div>
        </div>

        <!-- User Menu - Mobile -->
        <div class="relative">
          <button
            (click)="toggleUserMenu()"
            class="flex items-center gap-2 p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
            <div class="w-8 h-8 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center">
              <span class="text-white text-sm font-semibold">{{ currentUser?.name?.charAt(0)?.toUpperCase() || 'U' }}</span>
            </div>
          </button>

          <!-- Dropdown Menu -->
          <div *ngIf="userMenuOpen" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50">
              <a routerLink="/profile"
               (click)="closeUserMenu()"
               class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors flex items-center gap-2">
              <i class="fas fa-user"></i>
              My Profile
            </a>
            <div class="border-t border-gray-200 my-1"></div>
            <button
              (click)="logout()"
              class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2">
              <i class="fas fa-sign-out-alt"></i>
              Logout
            </button>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Bottom Floating Navigation - Mobile Only -->
  <nav class="md:hidden fixed bottom-0 left-0 right-0 z-50 w-full" *ngIf="authService.isAuthenticated()">
    <div class="bg-white shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] border-t border-gray-200 px-1 py-1">
      <div class="flex items-center justify-around">
        <a routerLink="/dashboard"
           routerLinkActive="bg-indigo-100 text-indigo-700"
           [routerLinkActiveOptions]="{exact: false}"
           class="flex flex-col items-center justify-center px-2 py-1 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-indigo-600 transition-all duration-200 flex-1">
          <i class="fas fa-home text-lg"></i>
          <span class="text-xs mt-0.5">Dashboard</span>
        </a>
        <a routerLink="/customers"
           routerLinkActive="bg-indigo-100 text-indigo-700"
           [routerLinkActiveOptions]="{exact: false}"
           class="flex flex-col items-center justify-center px-2 py-1 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-indigo-600 transition-all duration-200 flex-1">
          <i class="fas fa-users text-lg"></i>
          <span class="text-xs mt-0.5">Customers</span>
        </a>
        <a routerLink="/ledger"
           routerLinkActive="bg-indigo-100 text-indigo-700"
           [routerLinkActiveOptions]="{exact: false}"
           class="flex flex-col items-center justify-center px-2 py-1 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-indigo-600 transition-all duration-200 flex-1">
          <i class="fas fa-coins text-lg"></i>
          <span class="text-xs mt-0.5">Ledger</span>
        </a>
        <a routerLink="/shops"
           routerLinkActive="bg-indigo-100 text-indigo-700"
           [routerLinkActiveOptions]="{exact: false}"
           class="flex flex-col items-center justify-center px-2 py-1 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-indigo-600 transition-all duration-200 flex-1">
          <i class="fas fa-store text-lg"></i>
          <span class="text-xs mt-0.5">Shops</span>
        </a>
        <a routerLink="/audit-logs"
         routerLinkActive="bg-indigo-100 text-indigo-700"
         [routerLinkActiveOptions]="{exact: false}"
         class="flex flex-col items-center justify-center px-2 py-1 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-indigo-600 transition-all duration-200 flex-1">
          <i class="fas fa-history text-lg"></i>
          <span class="text-xs mt-0.5">Audit</span>
        </a>
      </div>
    </div>
  </nav>

  <!-- Main Content - This will grow to fill available space -->
  <main class="flex-grow pb-16 md:pb-4" [class.bg-white]="!authService.isAuthenticated()">
    <router-outlet></router-outlet>
  </main>

  <!-- Footer - This will stay at the bottom -->
  <footer class="bg-gray-700 text-white py-6 mt-auto mb-16 md:mb-0" *ngIf="authService.isAuthenticated()">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <p class="text-sm text-gray-300">Â© 2026 Duebook. Track customer dues, payments, and balances digitally.</p>
      </div>
    </div>
  </footer>
</div>
